(function(a){var c={};a.jgrid.extend({searchGrid:function(c){c=a.extend(!0,{recreateFilter:!1,drag:!0,sField:"searchField",sValue:"searchString",sOper:"searchOper",sFilter:"filters",loadDefaults:!0,beforeShowSearch:null,afterShowSearch:null,onInitializeSearch:null,afterRedraw:null,afterChange:null,closeAfterSearch:!1,closeAfterReset:!1,closeOnEscape:!1,searchOnEnter:!1,multipleSearch:!1,multipleGroup:!1,top:0,left:0,jqModal:!0,modal:!1,resize:!0,width:450,height:"auto",dataheight:"auto",showQuery:!1,
errorcheck:!0,sopt:null,stringResult:void 0,onClose:null,onSearch:null,onReset:null,toTop:!0,overlay:30,columns:[],tmplNames:null,tmplFilters:null,tmplLabel:" Template: ",showOnLoad:!1,layer:null},a.jgrid.search,c||{});return this.each(function(){function d(b){r=a(e).triggerHandler("jqGridFilterBeforeShow",[b]);"undefined"===typeof r&&(r=!0);r&&a.isFunction(c.beforeShowSearch)&&(r=c.beforeShowSearch.call(e,b));r&&(a.jgrid.viewModal("#"+a.jgrid.jqID(s.themodal),{gbox:"#gbox_"+a.jgrid.jqID(j),jqm:c.jqModal,
modal:c.modal,overlay:c.overlay,toTop:c.toTop}),a(e).triggerHandler("jqGridFilterAfterShow",[b]),a.isFunction(c.afterShowSearch)&&c.afterShowSearch.call(e,b))}var e=this;if(e.grid){var j="fbox_"+e.p.id,r=!0,s={themodal:"searchmod"+j,modalhead:"searchhd"+j,modalcontent:"searchcnt"+j,scrollelm:j},q=e.p.postData[c.sFilter];"string"===typeof q&&(q=a.jgrid.parse(q));!0===c.recreateFilter&&a("#"+a.jgrid.jqID(s.themodal)).remove();if(void 0!==a("#"+a.jgrid.jqID(s.themodal))[0])d(a("#fbox_"+a.jgrid.jqID(+e.p.id)));
else{var m=a("<div><div id='"+j+"' class='searchFilter' style='overflow:auto'></div></div>").insertBefore("#gview_"+a.jgrid.jqID(e.p.id)),h="left",f="";"rtl"==e.p.direction&&(h="right",f=" style='text-align:left'",m.attr("dir","rtl"));var o=a.extend([],e.p.colModel),w="<a href='javascript:void(0)' id='"+j+"_search' class='fm-button ui-state-default ui-corner-all fm-button-icon-right ui-reset'><span class='ui-icon ui-icon-search'></span>"+c.Find+"</a>",b="<a href='javascript:void(0)' id='"+j+"_reset' class='fm-button ui-state-default ui-corner-all fm-button-icon-left ui-search'><span class='ui-icon ui-icon-arrowreturnthick-1-w'></span>"+
c.Reset+"</a>",l="",g="",i,p=!1,n=-1;c.showQuery&&(l="<a href='javascript:void(0)' id='"+j+"_query' class='fm-button ui-state-default ui-corner-all fm-button-icon-left'><span class='ui-icon ui-icon-comment'></span>Query</a>");c.columns.length?o=c.columns:a.each(o,function(a,b){if(!b.label)b.label=e.p.colNames[a];if(!p){var c=typeof b.search==="undefined"?true:b.search,d=b.hidden===true;if(b.searchoptions&&b.searchoptions.searchhidden===true&&c||c&&!d){p=true;i=b.index||b.name;n=a}}});if(!q&&i||!1===
c.multipleSearch){var y="eq";0<=n&&o[n].searchoptions&&o[n].searchoptions.sopt?y=o[n].searchoptions.sopt[0]:c.sopt&&c.sopt.length&&(y=c.sopt[0]);q={groupOp:"AND",rules:[{field:i,op:y,data:""}]}}p=!1;c.tmplNames&&c.tmplNames.length&&(p=!0,g=c.tmplLabel,g+="<select class='ui-template'>",g+="<option value='default'>Default</option>",a.each(c.tmplNames,function(a,b){g=g+("<option value='"+a+"'>"+b+"</option>")}),g+="</select>");h="<table class='EditTable' style='border:0px none;margin-top:5px' id='"+
j+"_2'><tbody><tr><td colspan='2'><hr class='ui-widget-content' style='margin:1px'/></td></tr><tr><td class='EditButton' style='text-align:"+h+"'>"+b+g+"</td><td class='EditButton' "+f+">"+l+w+"</td></tr></tbody></table>";j=a.jgrid.jqID(j);a("#"+j).jqFilter({columns:o,filter:c.loadDefaults?q:null,showQuery:c.showQuery,errorcheck:c.errorcheck,sopt:c.sopt,groupButton:c.multipleGroup,ruleButtons:c.multipleSearch,afterRedraw:c.afterRedraw,_gridsopt:a.jgrid.search.odata,ajaxSelectOptions:e.p.ajaxSelectOptions,
groupOps:c.groupOps,onChange:function(){this.p.showQuery&&a(".query",this).html(this.toUserFriendlyString());a.isFunction(c.afterChange)&&c.afterChange.call(e,a("#"+j),c)},direction:e.p.direction});m.append(h);p&&c.tmplFilters&&c.tmplFilters.length&&a(".ui-template",m).bind("change",function(){var b=a(this).val();b=="default"?a("#"+j).jqFilter("addFilter",q):a("#"+j).jqFilter("addFilter",c.tmplFilters[parseInt(b,10)]);return false});!0===c.multipleGroup&&(c.multipleSearch=!0);a(e).triggerHandler("jqGridFilterInitialize",
[a("#"+j)]);a.isFunction(c.onInitializeSearch)&&c.onInitializeSearch.call(e,a("#"+j));c.gbox="#gbox_"+j;c.layer?a.jgrid.createModal(s,m,c,"#gview_"+a.jgrid.jqID(e.p.id),a("#gbox_"+a.jgrid.jqID(e.p.id))[0],"#"+a.jgrid.jqID(c.layer),{position:"relative"}):a.jgrid.createModal(s,m,c,"#gview_"+a.jgrid.jqID(e.p.id),a("#gbox_"+a.jgrid.jqID(e.p.id))[0]);(c.searchOnEnter||c.closeOnEscape)&&a("#"+a.jgrid.jqID(s.themodal)).keydown(function(b){var d=a(b.target);if(c.searchOnEnter&&b.which===13&&!d.hasClass("add-group")&&
!d.hasClass("add-rule")&&!d.hasClass("delete-group")&&!d.hasClass("delete-rule")&&(!d.hasClass("fm-button")||!d.is("[id$=_query]"))){a("#"+j+"_search").focus().click();return false}if(c.closeOnEscape&&b.which===27){a("#"+a.jgrid.jqID(s.modalhead)).find(".ui-jqdialog-titlebar-close").focus().click();return false}});l&&a("#"+j+"_query").bind("click",function(){a(".queryresult",m).toggle();return false});void 0===c.stringResult&&(c.stringResult=c.multipleSearch);a("#"+j+"_search").bind("click",function(){var b=
a("#"+j),d={},g,f=b.jqFilter("filterData");if(c.errorcheck){b[0].hideError();c.showQuery||b.jqFilter("toSQLString");if(b[0].p.error){b[0].showError();return false}}if(c.stringResult){try{g=xmlJsonClass.toJson(f,"","",false)}catch(h){try{g=JSON.stringify(f)}catch(n){}}if(typeof g==="string"){d[c.sFilter]=g;a.each([c.sField,c.sValue,c.sOper],function(){d[this]=""})}}else if(c.multipleSearch){d[c.sFilter]=f;a.each([c.sField,c.sValue,c.sOper],function(){d[this]=""})}else{d[c.sField]=f.rules[0].field;
d[c.sValue]=f.rules[0].data;d[c.sOper]=f.rules[0].op;d[c.sFilter]=""}e.p.search=true;a.extend(e.p.postData,d);a(e).triggerHandler("jqGridFilterSearch");a.isFunction(c.onSearch)&&c.onSearch.call(e);a(e).trigger("reloadGrid",[{page:1}]);c.closeAfterSearch&&a.jgrid.hideModal("#"+a.jgrid.jqID(s.themodal),{gb:"#gbox_"+a.jgrid.jqID(e.p.id),jqm:c.jqModal,onClose:c.onClose});return false});a("#"+j+"_reset").bind("click",function(){var b={},d=a("#"+j);e.p.search=false;c.multipleSearch===false?b[c.sField]=
b[c.sValue]=b[c.sOper]="":b[c.sFilter]="";d[0].resetFilter();p&&a(".ui-template",m).val("default");a.extend(e.p.postData,b);a(e).triggerHandler("jqGridFilterReset");a.isFunction(c.onReset)&&c.onReset.call(e);a(e).trigger("reloadGrid",[{page:1}]);return false});d(a("#"+j));a(".fm-button:not(.ui-state-disabled)",m).hover(function(){a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")})}}})},editGridRow:function(v,d){d=a.extend(!0,{top:0,left:0,width:300,height:"auto",
dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,url:null,mtype:"POST",clearAfterAdd:!0,closeAfterEdit:!1,reloadAfterSubmit:!0,onInitializeForm:null,beforeInitData:null,beforeShowForm:null,afterShowForm:null,beforeSubmit:null,afterSubmit:null,onclickSubmit:null,afterComplete:null,onclickPgButtons:null,afterclickPgButtons:null,editData:{},recreateForm:!1,jqModal:!0,closeOnEscape:!1,addedrow:"first",topinfo:"",bottominfo:"",saveicon:[],closeicon:[],savekey:[!1,13],navkeys:[!1,38,40],checkOnSubmit:!1,
checkOnUpdate:!1,_savedData:{},processing:!1,onClose:null,ajaxEditOptions:{},serializeEditData:null,viewPagerButtons:!0},a.jgrid.edit,d||{});c[a(this)[0].p.id]=d;return this.each(function(){function e(){a(p+" > tbody > tr > td > .FormElement").each(function(){var c=a(".customelement",this);if(c.length){var d=a(c[0]).attr("name");a.each(b.p.colModel,function(){if(this.name===d&&this.editoptions&&a.isFunction(this.editoptions.custom_value)){try{if(k[d]=this.editoptions.custom_value.call(b,a("#"+a.jgrid.jqID(d),
p),"get"),void 0===k[d])throw"e1";}catch(c){"e1"===c?a.jgrid.info_dialog(jQuery.jgrid.errors.errcap,"function 'custom_value' "+a.jgrid.edit.msg.novalue,jQuery.jgrid.edit.bClose):a.jgrid.info_dialog(jQuery.jgrid.errors.errcap,c.message,jQuery.jgrid.edit.bClose)}return!0}})}else{switch(a(this).get(0).type){case "checkbox":a(this).is(":checked")?k[this.name]=a(this).val():(c=a(this).attr("offval"),k[this.name]=c);break;case "select-one":k[this.name]=a("option:selected",this).val();B[this.name]=a("option:selected",
this).text();break;case "select-multiple":k[this.name]=a(this).val();k[this.name]=k[this.name]?k[this.name].join(","):"";var e=[];a("option:selected",this).each(function(b,c){e[b]=a(c).text()});B[this.name]=e.join(",");break;case "password":case "text":case "textarea":case "button":k[this.name]=a(this).val()}b.p.autoencode&&(k[this.name]=a.jgrid.htmlEncode(k[this.name]))}});return!0}function j(d,e,g,k){var f,h,t,n=0,i,p,j,m=[],u=!1,o="",l;for(l=1;l<=k;l++)o+="<td class='CaptionTD'>&#160;</td><td class='DataTD'>&#160;</td>";
"_empty"!=d&&(u=a(e).jqGrid("getInd",d));a(e.p.colModel).each(function(l){f=this.name;p=(h=this.editrules&&!0===this.editrules.edithidden?!1:!0===this.hidden?!0:!1)?"style='display:none'":"";if("cb"!==f&&"subgrid"!==f&&!0===this.editable&&"rn"!==f){if(!1===u)i="";else if(f==e.p.ExpandColumn&&!0===e.p.treeGrid)i=a("td[role='gridcell']:eq("+l+")",e.rows[u]).text();else{try{i=a.unformat.call(e,a("td[role='gridcell']:eq("+l+")",e.rows[u]),{rowId:d,colModel:this},l)}catch(v){i=this.edittype&&"textarea"==
this.edittype?a("td[role='gridcell']:eq("+l+")",e.rows[u]).text():a("td[role='gridcell']:eq("+l+")",e.rows[u]).html()}if(!i||"&nbsp;"==i||"&#160;"==i||1==i.length&&160==i.charCodeAt(0))i=""}var r=a.extend({},this.editoptions||{},{id:f,name:f}),q=a.extend({},{elmprefix:"",elmsuffix:"",rowabove:!1,rowcontent:""},this.formoptions||{}),s=parseInt(q.rowpos,10)||n+1,y=parseInt(2*(parseInt(q.colpos,10)||1),10);"_empty"==d&&r.defaultValue&&(i=a.isFunction(r.defaultValue)?r.defaultValue.call(b):r.defaultValue);
this.edittype||(this.edittype="text");b.p.autoencode&&(i=a.jgrid.htmlDecode(i));j=a.jgrid.createEl.call(b,this.edittype,r,i,!1,a.extend({},a.jgrid.ajaxOptions,e.p.ajaxSelectOptions||{}));""===i&&"checkbox"==this.edittype&&(i=a(j).attr("offval"));""===i&&"select"==this.edittype&&(i=a("option:eq(0)",j).text());if(c[b.p.id].checkOnSubmit||c[b.p.id].checkOnUpdate)c[b.p.id]._savedData[f]=i;a(j).addClass("FormElement");("text"==this.edittype||"textarea"==this.edittype)&&a(j).addClass("ui-widget-content ui-corner-all");
t=a(g).find("tr[rowpos="+s+"]");if(q.rowabove){var x=a("<tr><td class='contentinfo' colspan='"+2*k+"'>"+q.rowcontent+"</td></tr>");a(g).append(x);x[0].rp=s}0===t.length&&(t=a("<tr "+p+" rowpos='"+s+"'></tr>").addClass("FormData").attr("id","tr_"+f),a(t).append(o),a(g).append(t),t[0].rp=s);a("td:eq("+(y-2)+")",t[0]).html("undefined"===typeof q.label?e.p.colNames[l]:q.label);a("td:eq("+(y-1)+")",t[0]).append(q.elmprefix).append(j).append(q.elmsuffix);a.jgrid.bindEv(j,r,b);m[n]=l;n++}});if(0<n&&(l=a("<tr class='FormData' style='display:none'><td class='CaptionTD'></td><td colspan='"+
(2*k-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='"+e.p.id+"_id' value='"+d+"'/></td></tr>"),l[0].rp=n+999,a(g).append(l),c[b.p.id].checkOnSubmit||c[b.p.id].checkOnUpdate))c[b.p.id]._savedData[e.p.id+"_id"]=d;return m}function r(d,e,g){var f,k=0,h,i,t,n,j;if(c[b.p.id].checkOnSubmit||c[b.p.id].checkOnUpdate)c[b.p.id]._savedData={},c[b.p.id]._savedData[e.p.id+"_id"]=d;var l=e.p.colModel;if("_empty"==d)a(l).each(function(){f=this.name;t=a.extend({},this.editoptions||{});
if((i=a("#"+a.jgrid.jqID(f),"#"+g))&&i.length&&null!==i[0])if(n="",t.defaultValue?(n=a.isFunction(t.defaultValue)?t.defaultValue.call(b):t.defaultValue,"checkbox"==i[0].type?(j=n.toLowerCase(),0>j.search(/(false|0|no|off|undefined)/i)&&""!==j?(i[0].checked=!0,i[0].defaultChecked=!0,i[0].value=n):(i[0].checked=!1,i[0].defaultChecked=!1)):i.val(n)):"checkbox"==i[0].type?(i[0].checked=!1,i[0].defaultChecked=!1,n=a(i).attr("offval")):i[0].type&&"select"==i[0].type.substr(0,6)?i[0].selectedIndex=0:i.val(n),
!0===c[b.p.id].checkOnSubmit||c[b.p.id].checkOnUpdate)c[b.p.id]._savedData[f]=n}),a("#id_g","#"+g).val(d);else{var m=a(e).jqGrid("getInd",d,!0);m&&(a('td[role="gridcell"]',m).each(function(i){f=l[i].name;if("cb"!==f&&"subgrid"!==f&&"rn"!==f&&!0===l[i].editable){if(f==e.p.ExpandColumn&&!0===e.p.treeGrid)h=a(this).text();else try{h=a.unformat.call(e,a(this),{rowId:d,colModel:l[i]},i)}catch(t){h="textarea"==l[i].edittype?a(this).text():a(this).html()}b.p.autoencode&&(h=a.jgrid.htmlDecode(h));if(!0===
c[b.p.id].checkOnSubmit||c[b.p.id].checkOnUpdate)c[b.p.id]._savedData[f]=h;f=a.jgrid.jqID(f);switch(l[i].edittype){case "password":case "text":case "button":case "image":case "textarea":if("&nbsp;"==h||"&#160;"==h||1==h.length&&160==h.charCodeAt(0))h="";a("#"+f,"#"+g).val(h);break;case "select":var n=h.split(","),n=a.map(n,function(b){return a.trim(b)});a("#"+f+" option","#"+g).each(function(){this.selected=!l[i].editoptions.multiple&&(a.trim(h)==a.trim(a(this).text())||n[0]==a.trim(a(this).text())||
n[0]==a.trim(a(this).val()))?!0:l[i].editoptions.multiple?-1<a.inArray(a.trim(a(this).text()),n)||-1<a.inArray(a.trim(a(this).val()),n)?!0:!1:!1});break;case "checkbox":h+="";l[i].editoptions&&l[i].editoptions.value?l[i].editoptions.value.split(":")[0]==h?(a("#"+f,"#"+g)[b.p.useProp?"prop":"attr"]("checked",!0),a("#"+f,"#"+g)[b.p.useProp?"prop":"attr"]("defaultChecked",!0)):(a("#"+f,"#"+g)[b.p.useProp?"prop":"attr"]("checked",!1),a("#"+f,"#"+g)[b.p.useProp?"prop":"attr"]("defaultChecked",!1)):(h=
h.toLowerCase(),0>h.search(/(false|0|no|off|undefined)/i)&&""!==h?(a("#"+f,"#"+g)[b.p.useProp?"prop":"attr"]("checked",!0),a("#"+f,"#"+g)[b.p.useProp?"prop":"attr"]("defaultChecked",!0)):(a("#"+f,"#"+g)[b.p.useProp?"prop":"attr"]("checked",!1),a("#"+f,"#"+g)[b.p.useProp?"prop":"attr"]("defaultChecked",!1)));break;case "custom":try{if(l[i].editoptions&&a.isFunction(l[i].editoptions.custom_value))l[i].editoptions.custom_value.call(b,a("#"+f,"#"+g),"set",h);else throw"e1";}catch(j){"e1"==j?a.jgrid.info_dialog(jQuery.jgrid.errors.errcap,
"function 'custom_value' "+a.jgrid.edit.msg.nodefined,jQuery.jgrid.edit.bClose):a.jgrid.info_dialog(jQuery.jgrid.errors.errcap,j.message,jQuery.jgrid.edit.bClose)}}k++}}),0<k&&a("#id_g",p).val(d))}}function s(){a.each(b.p.colModel,function(a,b){b.editoptions&&!0===b.editoptions.NullIfEmpty&&k.hasOwnProperty(b.name)&&""===k[b.name]&&(k[b.name]="null")})}function q(){var e,f=[!0,"",""],i={},h=b.p.prmNames,t,j,m,u,o,q=a(b).triggerHandler("jqGridAddEditBeforeCheckValues",[a("#"+g),z]);q&&"object"===typeof q&&
(k=q);a.isFunction(c[b.p.id].beforeCheckValues)&&(q=c[b.p.id].beforeCheckValues.call(b,k,a("#"+g),"_empty"==k[b.p.id+"_id"]?h.addoper:h.editoper))&&"object"===typeof q&&(k=q);for(m in k)if(k.hasOwnProperty(m)&&(f=a.jgrid.checkValues.call(b,k[m],m,b),!1===f[0]))break;s();f[0]&&(i=a(b).triggerHandler("jqGridAddEditClickSubmit",[c[b.p.id],k,z]),void 0===i&&a.isFunction(c[b.p.id].onclickSubmit)&&(i=c[b.p.id].onclickSubmit.call(b,c[b.p.id],k)||{}),f=a(b).triggerHandler("jqGridAddEditBeforeSubmit",[k,a("#"+
g),z]),void 0===f&&(f=[!0,"",""]),f[0]&&a.isFunction(c[b.p.id].beforeSubmit)&&(f=c[b.p.id].beforeSubmit.call(b,k,a("#"+g))));if(f[0]&&!c[b.p.id].processing){c[b.p.id].processing=!0;a("#sData",p+"_2").addClass("ui-state-active");j=h.oper;t=h.id;k[j]="_empty"==a.trim(k[b.p.id+"_id"])?h.addoper:h.editoper;k[j]!=h.addoper?k[t]=k[b.p.id+"_id"]:void 0===k[t]&&(k[t]=k[b.p.id+"_id"]);delete k[b.p.id+"_id"];k=a.extend(k,c[b.p.id].editData,i);if(!0===b.p.treeGrid)for(o in k[j]==h.addoper&&(u=a(b).jqGrid("getGridParam",
"selrow"),k["adjacency"==b.p.treeGridModel?b.p.treeReader.parent_id_field:"parent_id"]=u),b.p.treeReader)b.p.treeReader.hasOwnProperty(o)&&(i=b.p.treeReader[o],k.hasOwnProperty(i)&&!(k[j]==h.addoper&&"parent_id_field"===o)&&delete k[i]);k[t]=a.jgrid.stripPref(b.p.idPrefix,k[t]);o=a.extend({url:c[b.p.id].url?c[b.p.id].url:a(b).jqGrid("getGridParam","editurl"),type:c[b.p.id].mtype,data:a.isFunction(c[b.p.id].serializeEditData)?c[b.p.id].serializeEditData.call(b,k):k,complete:function(i,m){k[t]=b.p.idPrefix+
k[t];if(m!="success"){f[0]=false;f[1]=a(b).triggerHandler("jqGridAddEditErrorTextFormat",[i,z]);f[1]=a.isFunction(c[b.p.id].errorTextFormat)?c[b.p.id].errorTextFormat.call(b,i):m+" Status: '"+i.statusText+"'. Error code: "+i.status}else{f=a(b).triggerHandler("jqGridAddEditAfterSubmit",[i,k,z]);f===void 0&&(f=[true,"",""]);f[0]&&a.isFunction(c[b.p.id].afterSubmit)&&(f=c[b.p.id].afterSubmit.call(b,i,k))}if(f[0]===false){a("#FormError>td",p).html(f[1]);a("#FormError",p).show()}else{a.each(b.p.colModel,
function(){if(B[this.name]&&this.formatter&&this.formatter=="select")try{delete B[this.name]}catch(a){}});k=a.extend(k,B);b.p.autoencode&&a.each(k,function(b,d){k[b]=a.jgrid.htmlDecode(d)});if(k[j]==h.addoper){f[2]||(f[2]=a.jgrid.randId());k[t]=f[2];if(c[b.p.id].closeAfterAdd){if(c[b.p.id].reloadAfterSubmit)a(b).trigger("reloadGrid");else if(b.p.treeGrid===true)a(b).jqGrid("addChildNode",f[2],u,k);else{a(b).jqGrid("addRowData",f[2],k,d.addedrow);a(b).jqGrid("setSelection",f[2])}a.jgrid.hideModal("#"+
a.jgrid.jqID(n.themodal),{gb:"#gbox_"+a.jgrid.jqID(l),jqm:d.jqModal,onClose:c[b.p.id].onClose})}else if(c[b.p.id].clearAfterAdd){c[b.p.id].reloadAfterSubmit?a(b).trigger("reloadGrid"):b.p.treeGrid===true?a(b).jqGrid("addChildNode",f[2],u,k):a(b).jqGrid("addRowData",f[2],k,d.addedrow);r("_empty",b,g)}else c[b.p.id].reloadAfterSubmit?a(b).trigger("reloadGrid"):b.p.treeGrid===true?a(b).jqGrid("addChildNode",f[2],u,k):a(b).jqGrid("addRowData",f[2],k,d.addedrow)}else{if(c[b.p.id].reloadAfterSubmit){a(b).trigger("reloadGrid");
c[b.p.id].closeAfterEdit||setTimeout(function(){a(b).jqGrid("setSelection",k[t])},1E3)}else b.p.treeGrid===true?a(b).jqGrid("setTreeRow",k[t],k):a(b).jqGrid("setRowData",k[t],k);c[b.p.id].closeAfterEdit&&a.jgrid.hideModal("#"+a.jgrid.jqID(n.themodal),{gb:"#gbox_"+a.jgrid.jqID(l),jqm:d.jqModal,onClose:c[b.p.id].onClose})}if(a.isFunction(c[b.p.id].afterComplete)){e=i;setTimeout(function(){a(b).triggerHandler("jqGridAddEditAfterComplete",[e,k,a("#"+g),z]);c[b.p.id].afterComplete.call(b,e,k,a("#"+g));
e=null},500)}if(c[b.p.id].checkOnSubmit||c[b.p.id].checkOnUpdate){a("#"+g).data("disabled",false);if(c[b.p.id]._savedData[b.p.id+"_id"]!="_empty")for(var o in c[b.p.id]._savedData)k[o]&&(c[b.p.id]._savedData[o]=k[o])}}c[b.p.id].processing=false;a("#sData",p+"_2").removeClass("ui-state-active");try{a(":input:visible","#"+g)[0].focus()}catch(q){}}},a.jgrid.ajaxOptions,c[b.p.id].ajaxEditOptions);!o.url&&!c[b.p.id].useDataProxy&&(a.isFunction(b.p.dataProxy)?c[b.p.id].useDataProxy=!0:(f[0]=!1,f[1]+=" "+
a.jgrid.errors.nourl));f[0]&&(c[b.p.id].useDataProxy?(i=b.p.dataProxy.call(b,o,"set_"+b.p.id),"undefined"==typeof i&&(i=[!0,""]),!1===i[0]?(f[0]=!1,f[1]=i[1]||"Error deleting the selected row!"):(o.data.oper==h.addoper&&c[b.p.id].closeAfterAdd&&a.jgrid.hideModal("#"+a.jgrid.jqID(n.themodal),{gb:"#gbox_"+a.jgrid.jqID(l),jqm:d.jqModal,onClose:c[b.p.id].onClose}),o.data.oper==h.editoper&&c[b.p.id].closeAfterEdit&&a.jgrid.hideModal("#"+a.jgrid.jqID(n.themodal),{gb:"#gbox_"+a.jgrid.jqID(l),jqm:d.jqModal,
onClose:c[b.p.id].onClose}))):a.ajax(o))}!1===f[0]&&(a("#FormError>td",p).html(f[1]),a("#FormError",p).show())}function m(a,b){var d=!1,c;for(c in a)if(a[c]!=b[c]){d=!0;break}return d}function h(){var d=!0;a("#FormError",p).hide();if(c[b.p.id].checkOnUpdate&&(k={},B={},e(),F=a.extend({},k,B),M=m(F,c[b.p.id]._savedData)))a("#"+g).data("disabled",!0),a(".confirm","#"+n.themodal).show(),d=!1;return d}function f(){if("_empty"!==v&&"undefined"!==typeof b.p.savedRow&&0<b.p.savedRow.length&&a.isFunction(a.fn.jqGrid.restoreRow))for(var d=
0;d<b.p.savedRow.length;d++)if(b.p.savedRow[d].id==v){a(b).jqGrid("restoreRow",v);break}}function o(b,d){0===b?a("#pData",p+"_2").addClass("ui-state-disabled"):a("#pData",p+"_2").removeClass("ui-state-disabled");b==d?a("#nData",p+"_2").addClass("ui-state-disabled"):a("#nData",p+"_2").removeClass("ui-state-disabled")}function w(){var d=a(b).jqGrid("getDataIDs"),c=a("#id_g",p).val();return[a.inArray(c,d),d]}var b=this;if(b.grid&&v){var l=b.p.id,g="FrmGrid_"+l,i="TblGrid_"+l,p="#"+a.jgrid.jqID(i),n=
{themodal:"editmod"+l,modalhead:"edithd"+l,modalcontent:"editcnt"+l,scrollelm:g},y=a.isFunction(c[b.p.id].beforeShowForm)?c[b.p.id].beforeShowForm:!1,A=a.isFunction(c[b.p.id].afterShowForm)?c[b.p.id].afterShowForm:!1,x=a.isFunction(c[b.p.id].beforeInitData)?c[b.p.id].beforeInitData:!1,t=a.isFunction(c[b.p.id].onInitializeForm)?c[b.p.id].onInitializeForm:!1,u=!0,E=1,H=0,k,B,F,M,z,g=a.jgrid.jqID(g);"new"===v?(v="_empty",z="add",d.caption=c[b.p.id].addCaption):(d.caption=c[b.p.id].editCaption,z="edit");
!0===d.recreateForm&&void 0!==a("#"+a.jgrid.jqID(n.themodal))[0]&&a("#"+a.jgrid.jqID(n.themodal)).remove();var I=!0;d.checkOnUpdate&&d.jqModal&&!d.modal&&(I=!1);if(void 0!==a("#"+a.jgrid.jqID(n.themodal))[0]){u=a(b).triggerHandler("jqGridAddEditBeforeInitData",[a("#"+a.jgrid.jqID(g)),z]);"undefined"==typeof u&&(u=!0);u&&x&&(u=x.call(b,a("#"+g)));if(!1===u)return;f();a(".ui-jqdialog-title","#"+a.jgrid.jqID(n.modalhead)).html(d.caption);a("#FormError",p).hide();c[b.p.id].topinfo?(a(".topinfo",p).html(c[b.p.id].topinfo),
a(".tinfo",p).show()):a(".tinfo",p).hide();c[b.p.id].bottominfo?(a(".bottominfo",p+"_2").html(c[b.p.id].bottominfo),a(".binfo",p+"_2").show()):a(".binfo",p+"_2").hide();r(v,b,g);"_empty"==v||!c[b.p.id].viewPagerButtons?a("#pData, #nData",p+"_2").hide():a("#pData, #nData",p+"_2").show();!0===c[b.p.id].processing&&(c[b.p.id].processing=!1,a("#sData",p+"_2").removeClass("ui-state-active"));!0===a("#"+g).data("disabled")&&(a(".confirm","#"+a.jgrid.jqID(n.themodal)).hide(),a("#"+g).data("disabled",!1));
a(b).triggerHandler("jqGridAddEditBeforeShowForm",[a("#"+g),z]);y&&y.call(b,a("#"+g));a("#"+a.jgrid.jqID(n.themodal)).data("onClose",c[b.p.id].onClose);a.jgrid.viewModal("#"+a.jgrid.jqID(n.themodal),{gbox:"#gbox_"+a.jgrid.jqID(l),jqm:d.jqModal,jqM:!1,overlay:d.overlay,modal:d.modal});I||a(".jqmOverlay").click(function(){if(!h())return false;a.jgrid.hideModal("#"+a.jgrid.jqID(n.themodal),{gb:"#gbox_"+a.jgrid.jqID(l),jqm:d.jqModal,onClose:c[b.p.id].onClose});return false});a(b).triggerHandler("jqGridAddEditAfterShowForm",
[a("#"+g),z]);A&&A.call(b,a("#"+g))}else{var G=isNaN(d.dataheight)?d.dataheight:d.dataheight+"px",G=a("<form name='FormPost' id='"+g+"' class='FormGrid' onSubmit='return false;' style='width:100%;overflow:auto;position:relative;height:"+G+";'></form>").data("disabled",!1),C=a("<table id='"+i+"' class='EditTable' cellspacing='0' cellpadding='0' border='0'><tbody></tbody></table>"),u=a(b).triggerHandler("jqGridAddEditBeforeInitData",[a("#"+g),z]);"undefined"==typeof u&&(u=!0);u&&x&&(u=x.call(b,a("#"+
g)));if(!1===u)return;f();a(b.p.colModel).each(function(){var a=this.formoptions;E=Math.max(E,a?a.colpos||0:0);H=Math.max(H,a?a.rowpos||0:0)});a(G).append(C);x=a("<tr id='FormError' style='display:none'><td class='ui-state-error' colspan='"+2*E+"'></td></tr>");x[0].rp=0;a(C).append(x);x=a("<tr style='display:none' class='tinfo'><td class='topinfo' colspan='"+2*E+"'>"+c[b.p.id].topinfo+"</td></tr>");x[0].rp=0;a(C).append(x);var u=(x="rtl"==b.p.direction?!0:!1)?"nData":"pData",D=x?"pData":"nData";j(v,
b,C,E);var u="<a href='javascript:void(0)' id='"+u+"' class='fm-button ui-state-default ui-corner-left'><span class='ui-icon ui-icon-triangle-1-w'></span></a>",D="<a href='javascript:void(0)' id='"+D+"' class='fm-button ui-state-default ui-corner-right'><span class='ui-icon ui-icon-triangle-1-e'></span></a>",J="<a href='javascript:void(0)' id='sData' class='fm-button ui-state-default ui-corner-all'>"+d.bSubmit+"</a>",K="<a href='javascript:void(0)' id='cData' class='fm-button ui-state-default ui-corner-all'>"+
d.bCancel+"</a>",i="<table border='0' cellspacing='0' cellpadding='0' class='EditTable' id='"+i+"_2'><tbody><tr><td colspan='2'><hr class='ui-widget-content' style='margin:1px'/></td></tr><tr id='Act_Buttons'><td class='navButton'>"+(x?D+u:u+D)+"</td><td class='EditButton'>"+J+K+"</td></tr>"+("<tr style='display:none' class='binfo'><td class='bottominfo' colspan='2'>"+c[b.p.id].bottominfo+"</td></tr>"),i=i+"</tbody></table>";if(0<H){var L=[];a.each(a(C)[0].rows,function(a,b){L[a]=b});L.sort(function(a,
b){return a.rp>b.rp?1:a.rp<b.rp?-1:0});a.each(L,function(b,d){a("tbody",C).append(d)})}d.gbox="#gbox_"+a.jgrid.jqID(l);var N=!1;!0===d.closeOnEscape&&(d.closeOnEscape=!1,N=!0);i=a("<span></span>").append(G).append(i);a.jgrid.createModal(n,i,d,"#gview_"+a.jgrid.jqID(b.p.id),a("#gbox_"+a.jgrid.jqID(b.p.id))[0]);x&&(a("#pData, #nData",p+"_2").css("float","right"),a(".EditButton",p+"_2").css("text-align","left"));c[b.p.id].topinfo&&a(".tinfo",p).show();c[b.p.id].bottominfo&&a(".binfo",p+"_2").show();
i=i=null;a("#"+a.jgrid.jqID(n.themodal)).keydown(function(e){var f=e.target;if(a("#"+g).data("disabled")===true)return false;if(c[b.p.id].savekey[0]===true&&e.which==c[b.p.id].savekey[1]&&f.tagName!="TEXTAREA"){a("#sData",p+"_2").trigger("click");return false}if(e.which===27){if(!h())return false;N&&a.jgrid.hideModal("#"+a.jgrid.jqID(n.themodal),{gb:d.gbox,jqm:d.jqModal,onClose:c[b.p.id].onClose});return false}if(c[b.p.id].navkeys[0]===true){if(a("#id_g",p).val()=="_empty")return true;if(e.which==
c[b.p.id].navkeys[1]){a("#pData",p+"_2").trigger("click");return false}if(e.which==c[b.p.id].navkeys[2]){a("#nData",p+"_2").trigger("click");return false}}});d.checkOnUpdate&&(a("a.ui-jqdialog-titlebar-close span","#"+a.jgrid.jqID(n.themodal)).removeClass("jqmClose"),a("a.ui-jqdialog-titlebar-close","#"+a.jgrid.jqID(n.themodal)).unbind("click").click(function(){if(!h())return false;a.jgrid.hideModal("#"+a.jgrid.jqID(n.themodal),{gb:"#gbox_"+a.jgrid.jqID(l),jqm:d.jqModal,onClose:c[b.p.id].onClose});
return false}));d.saveicon=a.extend([!0,"left","ui-icon-disk"],d.saveicon);d.closeicon=a.extend([!0,"left","ui-icon-close"],d.closeicon);!0===d.saveicon[0]&&a("#sData",p+"_2").addClass("right"==d.saveicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+d.saveicon[2]+"'></span>");!0===d.closeicon[0]&&a("#cData",p+"_2").addClass("right"==d.closeicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+d.closeicon[2]+"'></span>");if(c[b.p.id].checkOnSubmit||
c[b.p.id].checkOnUpdate)J="<a href='javascript:void(0)' id='sNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+d.bYes+"</a>",D="<a href='javascript:void(0)' id='nNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+d.bNo+"</a>",K="<a href='javascript:void(0)' id='cNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+d.bExit+"</a>",i=d.zIndex||999,i++,a("<div class='ui-widget-overlay jqgrid-overlay confirm' style='z-index:"+
i+";display:none;'>&#160;"+(a.browser.msie&&6==a.browser.version?'<iframe style="display:block;position:absolute;z-index:-1;filter:Alpha(Opacity=\'0\');" src="javascript:false;"></iframe>':"")+"</div><div class='confirm ui-widget-content ui-jqconfirm' style='z-index:"+(i+1)+"'>"+d.saveData+"<br/><br/>"+J+D+K+"</div>").insertAfter("#"+g),a("#sNew","#"+a.jgrid.jqID(n.themodal)).click(function(){q();a("#"+g).data("disabled",false);a(".confirm","#"+a.jgrid.jqID(n.themodal)).hide();return false}),a("#nNew",
"#"+a.jgrid.jqID(n.themodal)).click(function(){a(".confirm","#"+a.jgrid.jqID(n.themodal)).hide();a("#"+g).data("disabled",false);setTimeout(function(){a(":input","#"+g)[0].focus()},0);return false}),a("#cNew","#"+a.jgrid.jqID(n.themodal)).click(function(){a(".confirm","#"+a.jgrid.jqID(n.themodal)).hide();a("#"+g).data("disabled",false);a.jgrid.hideModal("#"+a.jgrid.jqID(n.themodal),{gb:"#gbox_"+a.jgrid.jqID(l),jqm:d.jqModal,onClose:c[b.p.id].onClose});return false});a(b).triggerHandler("jqGridAddEditInitializeForm",
[a("#"+g),z]);t&&t.call(b,a("#"+g));"_empty"==v||!c[b.p.id].viewPagerButtons?a("#pData,#nData",p+"_2").hide():a("#pData,#nData",p+"_2").show();a(b).triggerHandler("jqGridAddEditBeforeShowForm",[a("#"+g),z]);y&&y.call(b,a("#"+g));a("#"+a.jgrid.jqID(n.themodal)).data("onClose",c[b.p.id].onClose);a.jgrid.viewModal("#"+a.jgrid.jqID(n.themodal),{gbox:"#gbox_"+a.jgrid.jqID(l),jqm:d.jqModal,overlay:d.overlay,modal:d.modal});I||a(".jqmOverlay").click(function(){if(!h())return false;a.jgrid.hideModal("#"+
a.jgrid.jqID(n.themodal),{gb:"#gbox_"+a.jgrid.jqID(l),jqm:d.jqModal,onClose:c[b.p.id].onClose});return false});a(b).triggerHandler("jqGridAddEditAfterShowForm",[a("#"+g),z]);A&&A.call(b,a("#"+g));a(".fm-button","#"+a.jgrid.jqID(n.themodal)).hover(function(){a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")});a("#sData",p+"_2").click(function(){k={};B={};a("#FormError",p).hide();e();if(k[b.p.id+"_id"]=="_empty")q();else if(d.checkOnSubmit===true){F=a.extend({},k,
B);if(M=m(F,c[b.p.id]._savedData)){a("#"+g).data("disabled",true);a(".confirm","#"+a.jgrid.jqID(n.themodal)).show()}else q()}else q();return false});a("#cData",p+"_2").click(function(){if(!h())return false;a.jgrid.hideModal("#"+a.jgrid.jqID(n.themodal),{gb:"#gbox_"+a.jgrid.jqID(l),jqm:d.jqModal,onClose:c[b.p.id].onClose});return false});a("#nData",p+"_2").click(function(){if(!h())return false;a("#FormError",p).hide();var c=w();c[0]=parseInt(c[0],10);if(c[0]!=-1&&c[1][c[0]+1]){a(b).triggerHandler("jqGridAddEditClickPgButtons",
["next",a("#"+g),c[1][c[0]]]);var e=true;if(a.isFunction(d.onclickPgButtons)){e=d.onclickPgButtons.call(b,"next",a("#"+g),c[1][c[0]]);if(e!==void 0&&e===false)return false}if(a("#"+a.jgrid.jqID(c[1][c[0]+1])).hasClass("ui-state-disabled"))return false;r(c[1][c[0]+1],b,g);a(b).jqGrid("setSelection",c[1][c[0]+1]);a(b).triggerHandler("jqGridAddEditAfterClickPgButtons",["next",a("#"+g),c[1][c[0]]]);a.isFunction(d.afterclickPgButtons)&&d.afterclickPgButtons.call(b,"next",a("#"+g),c[1][c[0]+1]);o(c[0]+
1,c[1].length-1)}return false});a("#pData",p+"_2").click(function(){if(!h())return false;a("#FormError",p).hide();var c=w();if(c[0]!=-1&&c[1][c[0]-1]){a(b).triggerHandler("jqGridAddEditClickPgButtons",["prev",a("#"+g),c[1][c[0]]]);var e=true;if(a.isFunction(d.onclickPgButtons)){e=d.onclickPgButtons.call(b,"prev",a("#"+g),c[1][c[0]]);if(e!==void 0&&e===false)return false}if(a("#"+a.jgrid.jqID(c[1][c[0]-1])).hasClass("ui-state-disabled"))return false;r(c[1][c[0]-1],b,g);a(b).jqGrid("setSelection",c[1][c[0]-
1]);a(b).triggerHandler("jqGridAddEditAfterClickPgButtons",["prev",a("#"+g),c[1][c[0]]]);a.isFunction(d.afterclickPgButtons)&&d.afterclickPgButtons.call(b,"prev",a("#"+g),c[1][c[0]-1]);o(c[0]-1,c[1].length-1)}return false})}y=w();o(y[0],y[1].length-1)}})},viewGridRow:function(v,d){d=a.extend(!0,{top:0,left:0,width:0,height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,jqModal:!0,closeOnEscape:!1,labelswidth:"30%",closeicon:[],navkeys:[!1,38,40],onClose:null,beforeShowForm:null,beforeInitData:null,
viewPagerButtons:!0},a.jgrid.view,d||{});c[a(this)[0].p.id]=d;return this.each(function(){function e(){(!0===c[m.p.id].closeOnEscape||!0===c[m.p.id].navkeys[0])&&setTimeout(function(){a(".ui-jqdialog-titlebar-close","#"+a.jgrid.jqID(l.modalhead)).focus()},0)}function j(b,c,e,f){for(var i,h,g,n=0,j,l,m=[],o=!1,p="<td class='CaptionTD form-view-label ui-widget-content' width='"+d.labelswidth+"'>&#160;</td><td class='DataTD form-view-data ui-helper-reset ui-widget-content'>&#160;</td>",q="",r=["integer",
"number","currency"],v=0,s=0,y,x,w,A=1;A<=f;A++)q+=1==A?p:"<td class='CaptionTD form-view-label ui-widget-content'>&#160;</td><td class='DataTD form-view-data ui-widget-content'>&#160;</td>";a(c.p.colModel).each(function(){h=this.editrules&&!0===this.editrules.edithidden?!1:!0===this.hidden?!0:!1;!h&&"right"===this.align&&(this.formatter&&-1!==a.inArray(this.formatter,r)?v=Math.max(v,parseInt(this.width,10)):s=Math.max(s,parseInt(this.width,10)))});y=0!==v?v:0!==s?s:0;o=a(c).jqGrid("getInd",b);a(c.p.colModel).each(function(b){i=
this.name;x=!1;l=(h=this.editrules&&!0===this.editrules.edithidden?!1:!0===this.hidden?!0:!1)?"style='display:none'":"";w="boolean"!=typeof this.viewable?!0:this.viewable;if("cb"!==i&&"subgrid"!==i&&"rn"!==i&&w){j=!1===o?"":i==c.p.ExpandColumn&&!0===c.p.treeGrid?a("td:eq("+b+")",c.rows[o]).text():a("td:eq("+b+")",c.rows[o]).html();x="right"===this.align&&0!==y?!0:!1;var d=a.extend({},{rowabove:!1,rowcontent:""},this.formoptions||{}),t=parseInt(d.rowpos,10)||n+1,p=parseInt(2*(parseInt(d.colpos,10)||
1),10);if(d.rowabove){var r=a("<tr><td class='contentinfo' colspan='"+2*f+"'>"+d.rowcontent+"</td></tr>");a(e).append(r);r[0].rp=t}g=a(e).find("tr[rowpos="+t+"]");0===g.length&&(g=a("<tr "+l+" rowpos='"+t+"'></tr>").addClass("FormData").attr("id","trv_"+i),a(g).append(q),a(e).append(g),g[0].rp=t);a("td:eq("+(p-2)+")",g[0]).html("<b>"+("undefined"===typeof d.label?c.p.colNames[b]:d.label)+"</b>");a("td:eq("+(p-1)+")",g[0]).append("<span>"+j+"</span>").attr("id","v_"+i);x&&a("td:eq("+(p-1)+") span",
g[0]).css({"text-align":"right",width:y+"px"});m[n]=b;n++}});0<n&&(b=a("<tr class='FormData' style='display:none'><td class='CaptionTD'></td><td colspan='"+(2*f-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='id' value='"+b+"'/></td></tr>"),b[0].rp=n+99,a(e).append(b));return m}function r(b,c){var d,e,f=0,i,g;if(g=a(c).jqGrid("getInd",b,!0))a("td",g).each(function(b){d=c.p.colModel[b].name;e=c.p.colModel[b].editrules&&!0===c.p.colModel[b].editrules.edithidden?!1:!0===c.p.colModel[b].hidden?
!0:!1;"cb"!==d&&"subgrid"!==d&&"rn"!==d&&(i=d==c.p.ExpandColumn&&!0===c.p.treeGrid?a(this).text():a(this).html(),a.extend({},c.p.colModel[b].editoptions||{}),d=a.jgrid.jqID("v_"+d),a("#"+d+" span","#"+o).html(i),e&&a("#"+d,"#"+o).parents("tr:first").hide(),f++)}),0<f&&a("#id_g","#"+o).val(b)}function s(b,c){0===b?a("#pData","#"+o+"_2").addClass("ui-state-disabled"):a("#pData","#"+o+"_2").removeClass("ui-state-disabled");b==c?a("#nData","#"+o+"_2").addClass("ui-state-disabled"):a("#nData","#"+o+"_2").removeClass("ui-state-disabled")}
function q(){var b=a(m).jqGrid("getDataIDs"),c=a("#id_g","#"+o).val();return[a.inArray(c,b),b]}var m=this;if(m.grid&&v){var h=m.p.id,f="ViewGrid_"+a.jgrid.jqID(h),o="ViewTbl_"+a.jgrid.jqID(h),w="ViewGrid_"+h,b="ViewTbl_"+h,l={themodal:"viewmod"+h,modalhead:"viewhd"+h,modalcontent:"viewcnt"+h,scrollelm:f},g=a.isFunction(c[m.p.id].beforeInitData)?c[m.p.id].beforeInitData:!1,i=!0,p=1,n=0;if(void 0!==a("#"+a.jgrid.jqID(l.themodal))[0]){g&&(i=g.call(m,a("#"+f)),"undefined"==typeof i&&(i=!0));if(!1===i)return;
a(".ui-jqdialog-title","#"+a.jgrid.jqID(l.modalhead)).html(d.caption);a("#FormError","#"+o).hide();r(v,m);a.isFunction(c[m.p.id].beforeShowForm)&&c[m.p.id].beforeShowForm.call(m,a("#"+f));a.jgrid.viewModal("#"+a.jgrid.jqID(l.themodal),{gbox:"#gbox_"+a.jgrid.jqID(h),jqm:d.jqModal,jqM:!1,overlay:d.overlay,modal:d.modal});e()}else{var y=isNaN(d.dataheight)?d.dataheight:d.dataheight+"px",w=a("<form name='FormPost' id='"+w+"' class='FormGrid' style='width:100%;overflow:auto;position:relative;height:"+
y+";'></form>"),A=a("<table id='"+b+"' class='EditTable' cellspacing='1' cellpadding='2' border='0' style='table-layout:fixed'><tbody></tbody></table>");g&&(i=g.call(m,a("#"+f)),"undefined"==typeof i&&(i=!0));if(!1===i)return;a(m.p.colModel).each(function(){var a=this.formoptions;p=Math.max(p,a?a.colpos||0:0);n=Math.max(n,a?a.rowpos||0:0)});a(w).append(A);j(v,m,A,p);b="rtl"==m.p.direction?!0:!1;g="<a href='javascript:void(0)' id='"+(b?"nData":"pData")+"' class='fm-button ui-state-default ui-corner-left'><span class='ui-icon ui-icon-triangle-1-w'></span></a>";
i="<a href='javascript:void(0)' id='"+(b?"pData":"nData")+"' class='fm-button ui-state-default ui-corner-right'><span class='ui-icon ui-icon-triangle-1-e'></span></a>";y="<a href='javascript:void(0)' id='cData' class='fm-button ui-state-default ui-corner-all'>"+d.bClose+"</a>";if(0<n){var x=[];a.each(a(A)[0].rows,function(a,b){x[a]=b});x.sort(function(a,b){return a.rp>b.rp?1:a.rp<b.rp?-1:0});a.each(x,function(b,c){a("tbody",A).append(c)})}d.gbox="#gbox_"+a.jgrid.jqID(h);w=a("<span></span>").append(w).append("<table border='0' class='EditTable' id='"+
o+"_2'><tbody><tr id='Act_Buttons'><td class='navButton' width='"+d.labelswidth+"'>"+(b?i+g:g+i)+"</td><td class='EditButton'>"+y+"</td></tr></tbody></table>");a.jgrid.createModal(l,w,d,"#gview_"+a.jgrid.jqID(m.p.id),a("#gview_"+a.jgrid.jqID(m.p.id))[0]);b&&(a("#pData, #nData","#"+o+"_2").css("float","right"),a(".EditButton","#"+o+"_2").css("text-align","left"));d.viewPagerButtons||a("#pData, #nData","#"+o+"_2").hide();w=null;a("#"+l.themodal).keydown(function(b){if(b.which===27){c[m.p.id].closeOnEscape&&
a.jgrid.hideModal("#"+a.jgrid.jqID(l.themodal),{gb:d.gbox,jqm:d.jqModal,onClose:d.onClose});return false}if(d.navkeys[0]===true){if(b.which===d.navkeys[1]){a("#pData","#"+o+"_2").trigger("click");return false}if(b.which===d.navkeys[2]){a("#nData","#"+o+"_2").trigger("click");return false}}});d.closeicon=a.extend([!0,"left","ui-icon-close"],d.closeicon);!0===d.closeicon[0]&&a("#cData","#"+o+"_2").addClass("right"==d.closeicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+
d.closeicon[2]+"'></span>");a.isFunction(d.beforeShowForm)&&d.beforeShowForm.call(m,a("#"+f));a.jgrid.viewModal("#"+a.jgrid.jqID(l.themodal),{gbox:"#gbox_"+a.jgrid.jqID(h),jqm:d.jqModal,modal:d.modal});a(".fm-button:not(.ui-state-disabled)","#"+o+"_2").hover(function(){a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")});e();a("#cData","#"+o+"_2").click(function(){a.jgrid.hideModal("#"+a.jgrid.jqID(l.themodal),{gb:"#gbox_"+a.jgrid.jqID(h),jqm:d.jqModal,onClose:d.onClose});
return false});a("#nData","#"+o+"_2").click(function(){a("#FormError","#"+o).hide();var b=q();b[0]=parseInt(b[0],10);if(b[0]!=-1&&b[1][b[0]+1]){a.isFunction(d.onclickPgButtons)&&d.onclickPgButtons.call(m,"next",a("#"+f),b[1][b[0]]);r(b[1][b[0]+1],m);a(m).jqGrid("setSelection",b[1][b[0]+1]);a.isFunction(d.afterclickPgButtons)&&d.afterclickPgButtons.call(m,"next",a("#"+f),b[1][b[0]+1]);s(b[0]+1,b[1].length-1)}e();return false});a("#pData","#"+o+"_2").click(function(){a("#FormError","#"+o).hide();var b=
q();if(b[0]!=-1&&b[1][b[0]-1]){a.isFunction(d.onclickPgButtons)&&d.onclickPgButtons.call(m,"prev",a("#"+f),b[1][b[0]]);r(b[1][b[0]-1],m);a(m).jqGrid("setSelection",b[1][b[0]-1]);a.isFunction(d.afterclickPgButtons)&&d.afterclickPgButtons.call(m,"prev",a("#"+f),b[1][b[0]-1]);s(b[0]-1,b[1].length-1)}e();return false})}w=q();s(w[0],w[1].length-1)}})},delGridRow:function(v,d){d=a.extend(!0,{top:0,left:0,width:240,height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,url:"",mtype:"POST",
reloadAfterSubmit:!0,beforeShowForm:null,beforeInitData:null,afterShowForm:null,beforeSubmit:null,onclickSubmit:null,afterSubmit:null,jqModal:!0,closeOnEscape:!1,delData:{},delicon:[],cancelicon:[],onClose:null,ajaxDelOptions:{},processing:!1,serializeDelData:null,useDataProxy:!1},a.jgrid.del,d||{});c[a(this)[0].p.id]=d;return this.each(function(){var e=this;if(e.grid&&v){var j=a.isFunction(c[e.p.id].beforeShowForm),r=a.isFunction(c[e.p.id].afterShowForm),s=a.isFunction(c[e.p.id].beforeInitData)?
c[e.p.id].beforeInitData:!1,q=e.p.id,m={},h=!0,f="DelTbl_"+a.jgrid.jqID(q),o,w,b,l,g="DelTbl_"+q,i={themodal:"delmod"+q,modalhead:"delhd"+q,modalcontent:"delcnt"+q,scrollelm:f};jQuery.isArray(v)&&(v=v.join());if(void 0!==a("#"+a.jgrid.jqID(i.themodal))[0]){s&&(h=s.call(e,a("#"+f)),"undefined"==typeof h&&(h=!0));if(!1===h)return;a("#DelData>td","#"+f).text(v);a("#DelError","#"+f).hide();!0===c[e.p.id].processing&&(c[e.p.id].processing=!1,a("#dData","#"+f).removeClass("ui-state-active"));j&&c[e.p.id].beforeShowForm.call(e,
a("#"+f));a.jgrid.viewModal("#"+a.jgrid.jqID(i.themodal),{gbox:"#gbox_"+a.jgrid.jqID(q),jqm:c[e.p.id].jqModal,jqM:!1,overlay:c[e.p.id].overlay,modal:c[e.p.id].modal})}else{var p=isNaN(c[e.p.id].dataheight)?c[e.p.id].dataheight:c[e.p.id].dataheight+"px",g="<div id='"+g+"' class='formdata' style='width:100%;overflow:auto;position:relative;height:"+p+";'><table class='DelTable'><tbody><tr id='DelError' style='display:none'><td class='ui-state-error'></td></tr>"+("<tr id='DelData' style='display:none'><td >"+
v+"</td></tr>"),g=g+('<tr><td class="delmsg" style="white-space:pre;">'+c[e.p.id].msg+"</td></tr><tr><td >&#160;</td></tr>"),g=g+"</tbody></table></div>"+("<table cellspacing='0' cellpadding='0' border='0' class='EditTable' id='"+f+"_2'><tbody><tr><td><hr class='ui-widget-content' style='margin:1px'/></td></tr><tr><td class='DelButton EditButton'>"+("<a href='javascript:void(0)' id='dData' class='fm-button ui-state-default ui-corner-all'>"+d.bSubmit+"</a>")+"&#160;"+("<a href='javascript:void(0)' id='eData' class='fm-button ui-state-default ui-corner-all'>"+
d.bCancel+"</a>")+"</td></tr></tbody></table>");d.gbox="#gbox_"+a.jgrid.jqID(q);a.jgrid.createModal(i,g,d,"#gview_"+a.jgrid.jqID(e.p.id),a("#gview_"+a.jgrid.jqID(e.p.id))[0]);s&&(h=s.call(e,a("#"+f)),"undefined"==typeof h&&(h=!0));if(!1===h)return;a(".fm-button","#"+f+"_2").hover(function(){a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")});d.delicon=a.extend([!0,"left","ui-icon-scissors"],c[e.p.id].delicon);d.cancelicon=a.extend([!0,"left","ui-icon-cancel"],c[e.p.id].cancelicon);
!0===d.delicon[0]&&a("#dData","#"+f+"_2").addClass("right"==d.delicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+d.delicon[2]+"'></span>");!0===d.cancelicon[0]&&a("#eData","#"+f+"_2").addClass("right"==d.cancelicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+d.cancelicon[2]+"'></span>");a("#dData","#"+f+"_2").click(function(){var g=[true,""];m={};var h=a("#DelData>td","#"+f).text();a.isFunction(c[e.p.id].onclickSubmit)&&(m=c[e.p.id].onclickSubmit.call(e,
c[e.p.id],h)||{});a.isFunction(c[e.p.id].beforeSubmit)&&(g=c[e.p.id].beforeSubmit.call(e,h));if(g[0]&&!c[e.p.id].processing){c[e.p.id].processing=true;b=e.p.prmNames;o=a.extend({},c[e.p.id].delData,m);l=b.oper;o[l]=b.deloper;w=b.id;h=(""+h).split(",");if(!h.length)return false;for(var j in h)h.hasOwnProperty(j)&&(h[j]=a.jgrid.stripPref(e.p.idPrefix,h[j]));o[w]=h.join();a(this).addClass("ui-state-active");j=a.extend({url:c[e.p.id].url?c[e.p.id].url:a(e).jqGrid("getGridParam","editurl"),type:c[e.p.id].mtype,
data:a.isFunction(c[e.p.id].serializeDelData)?c[e.p.id].serializeDelData.call(e,o):o,complete:function(b,j){if(j!="success"){g[0]=false;g[1]=a.isFunction(c[e.p.id].errorTextFormat)?c[e.p.id].errorTextFormat.call(e,b):j+" Status: '"+b.statusText+"'. Error code: "+b.status}else a.isFunction(c[e.p.id].afterSubmit)&&(g=c[e.p.id].afterSubmit.call(e,b,o));if(g[0]===false){a("#DelError>td","#"+f).html(g[1]);a("#DelError","#"+f).show()}else{if(c[e.p.id].reloadAfterSubmit&&e.p.datatype!="local")a(e).trigger("reloadGrid");
else{if(e.p.treeGrid===true)try{a(e).jqGrid("delTreeNode",e.p.idPrefix+h[0])}catch(l){}else for(var m=0;m<h.length;m++)a(e).jqGrid("delRowData",e.p.idPrefix+h[m]);e.p.selrow=null;e.p.selarrrow=[]}a.isFunction(c[e.p.id].afterComplete)&&setTimeout(function(){c[e.p.id].afterComplete.call(e,b,h)},500)}c[e.p.id].processing=false;a("#dData","#"+f+"_2").removeClass("ui-state-active");g[0]&&a.jgrid.hideModal("#"+a.jgrid.jqID(i.themodal),{gb:"#gbox_"+a.jgrid.jqID(q),jqm:d.jqModal,onClose:c[e.p.id].onClose})}},
a.jgrid.ajaxOptions,c[e.p.id].ajaxDelOptions);if(!j.url&&!c[e.p.id].useDataProxy)if(a.isFunction(e.p.dataProxy))c[e.p.id].useDataProxy=true;else{g[0]=false;g[1]=g[1]+(" "+a.jgrid.errors.nourl)}if(g[0])if(c[e.p.id].useDataProxy){j=e.p.dataProxy.call(e,j,"del_"+e.p.id);typeof j=="undefined"&&(j=[true,""]);if(j[0]===false){g[0]=false;g[1]=j[1]||"Error deleting the selected row!"}else a.jgrid.hideModal("#"+a.jgrid.jqID(i.themodal),{gb:"#gbox_"+a.jgrid.jqID(q),jqm:d.jqModal,onClose:c[e.p.id].onClose})}else a.ajax(j)}if(g[0]===
false){a("#DelError>td","#"+f).html(g[1]);a("#DelError","#"+f).show()}return false});a("#eData","#"+f+"_2").click(function(){a.jgrid.hideModal("#"+a.jgrid.jqID(i.themodal),{gb:"#gbox_"+a.jgrid.jqID(q),jqm:c[e.p.id].jqModal,onClose:c[e.p.id].onClose});return false});j&&c[e.p.id].beforeShowForm.call(e,a("#"+f));a.jgrid.viewModal("#"+a.jgrid.jqID(i.themodal),{gbox:"#gbox_"+a.jgrid.jqID(q),jqm:c[e.p.id].jqModal,overlay:c[e.p.id].overlay,modal:c[e.p.id].modal})}r&&c[e.p.id].afterShowForm.call(e,a("#"+
f));!0===c[e.p.id].closeOnEscape&&setTimeout(function(){a(".ui-jqdialog-titlebar-close","#"+a.jgrid.jqID(i.modalhead)).focus()},0)}})},navGrid:function(c,d,e,j,r,s,q){d=a.extend({edit:!0,editicon:"ui-icon-pencil",add:!0,addicon:"ui-icon-plus",del:!0,delicon:"ui-icon-trash",search:!0,searchicon:"ui-icon-search",refresh:!0,refreshicon:"ui-icon-refresh",refreshstate:"firstpage",view:!1,viewicon:"ui-icon-document",position:"left",closeOnEscape:!0,beforeRefresh:null,afterRefresh:null,cloneToTop:!1,alertwidth:200,
alertheight:"auto",alerttop:null,alertleft:null,alertzIndex:null},a.jgrid.nav,d||{});return this.each(function(){if(!this.nav){var m={themodal:"alertmod_"+this.p.id,modalhead:"alerthd_"+this.p.id,modalcontent:"alertcnt_"+this.p.id},h=this,f;if(h.grid&&"string"==typeof c){void 0===a("#"+m.themodal)[0]&&(!d.alerttop&&!d.alertleft&&("undefined"!=typeof window.innerWidth?(d.alertleft=window.innerWidth,d.alerttop=window.innerHeight):"undefined"!=typeof document.documentElement&&"undefined"!=typeof document.documentElement.clientWidth&&
0!==document.documentElement.clientWidth?(d.alertleft=document.documentElement.clientWidth,d.alerttop=document.documentElement.clientHeight):(d.alertleft=1024,d.alerttop=768),d.alertleft=d.alertleft/2-parseInt(d.alertwidth,10)/2,d.alerttop=d.alerttop/2-25),a.jgrid.createModal(m,"<div>"+d.alerttext+"</div><span tabindex='0'><span tabindex='-1' id='jqg_alrt'></span></span>",{gbox:"#gbox_"+a.jgrid.jqID(h.p.id),jqModal:!0,drag:!0,resize:!0,caption:d.alertcap,top:d.alerttop,left:d.alertleft,width:d.alertwidth,
height:d.alertheight,closeOnEscape:d.closeOnEscape,zIndex:d.alertzIndex},"#gview_"+a.jgrid.jqID(h.p.id),a("#gbox_"+a.jgrid.jqID(h.p.id))[0],!0));var o=1;d.cloneToTop&&h.p.toppager&&(o=2);for(var w=0;w<o;w++){var b=a("<table cellspacing='0' cellpadding='0' border='0' class='ui-pg-table navtable' style='float:left;table-layout:auto;'><tbody><tr></tr></tbody></table>"),l,g;0===w?(l=c,g=h.p.id,l==h.p.toppager&&(g+="_top",o=1)):(l=h.p.toppager,g=h.p.id+"_top");"rtl"==h.p.direction&&a(b).attr("dir","rtl").css("float",
"right");d.add&&(j=j||{},f=a("<td class='ui-pg-button ui-corner-all'></td>"),a(f).append("<div class='ui-pg-div'><span class='ui-icon "+d.addicon+"'></span>"+d.addtext+"</div>"),a("tr",b).append(f),a(f,b).attr({title:d.addtitle||"",id:j.id||"add_"+g}).click(function(){a(this).hasClass("ui-state-disabled")||(a.isFunction(d.addfunc)?d.addfunc.call(h):a(h).jqGrid("editGridRow","new",j));return false}).hover(function(){a(this).hasClass("ui-state-disabled")||a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")}),
f=null);d.edit&&(f=a("<td class='ui-pg-button ui-corner-all'></td>"),e=e||{},a(f).append("<div class='ui-pg-div'><span class='ui-icon "+d.editicon+"'></span>"+d.edittext+"</div>"),a("tr",b).append(f),a(f,b).attr({title:d.edittitle||"",id:e.id||"edit_"+g}).click(function(){if(!a(this).hasClass("ui-state-disabled")){var b=h.p.selrow;if(b)a.isFunction(d.editfunc)?d.editfunc.call(h,b):a(h).jqGrid("editGridRow",b,e);else{a.jgrid.viewModal("#"+m.themodal,{gbox:"#gbox_"+a.jgrid.jqID(h.p.id),jqm:true});a("#jqg_alrt").focus()}}return false}).hover(function(){a(this).hasClass("ui-state-disabled")||
a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")}),f=null);d.view&&(f=a("<td class='ui-pg-button ui-corner-all'></td>"),q=q||{},a(f).append("<div class='ui-pg-div'><span class='ui-icon "+d.viewicon+"'></span>"+d.viewtext+"</div>"),a("tr",b).append(f),a(f,b).attr({title:d.viewtitle||"",id:q.id||"view_"+g}).click(function(){if(!a(this).hasClass("ui-state-disabled")){var b=h.p.selrow;if(b)a.isFunction(d.viewfunc)?d.viewfunc.call(h,b):a(h).jqGrid("viewGridRow",b,q);
else{a.jgrid.viewModal("#"+m.themodal,{gbox:"#gbox_"+a.jgrid.jqID(h.p.id),jqm:true});a("#jqg_alrt").focus()}}return false}).hover(function(){a(this).hasClass("ui-state-disabled")||a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")}),f=null);d.del&&(f=a("<td class='ui-pg-button ui-corner-all'></td>"),r=r||{},a(f).append("<div class='ui-pg-div'><span class='ui-icon "+d.delicon+"'></span>"+d.deltext+"</div>"),a("tr",b).append(f),a(f,b).attr({title:d.deltitle||"",id:r.id||
"del_"+g}).click(function(){if(!a(this).hasClass("ui-state-disabled")){var b;if(h.p.multiselect){b=h.p.selarrrow;b.length===0&&(b=null)}else b=h.p.selrow;if(b)a.isFunction(d.delfunc)?d.delfunc.call(h,b):a(h).jqGrid("delGridRow",b,r);else{a.jgrid.viewModal("#"+m.themodal,{gbox:"#gbox_"+a.jgrid.jqID(h.p.id),jqm:true});a("#jqg_alrt").focus()}}return false}).hover(function(){a(this).hasClass("ui-state-disabled")||a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")}),f=
null);(d.add||d.edit||d.del||d.view)&&a("tr",b).append("<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'></span></td>");d.search&&(f=a("<td class='ui-pg-button ui-corner-all'></td>"),s=s||{},a(f).append("<div class='ui-pg-div'><span class='ui-icon "+d.searchicon+"'></span>"+d.searchtext+"</div>"),a("tr",b).append(f),a(f,b).attr({title:d.searchtitle||"",id:s.id||"search_"+g}).click(function(){a(this).hasClass("ui-state-disabled")||(a.isFunction(d.searchfunc)?
d.searchfunc.call(h,s):a(h).jqGrid("searchGrid",s));return false}).hover(function(){a(this).hasClass("ui-state-disabled")||a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")}),s.showOnLoad&&!0===s.showOnLoad&&a(f,b).click(),f=null);d.refresh&&(f=a("<td class='ui-pg-button ui-corner-all'></td>"),a(f).append("<div class='ui-pg-div'><span class='ui-icon "+d.refreshicon+"'></span>"+d.refreshtext+"</div>"),a("tr",b).append(f),a(f,b).attr({title:d.refreshtitle||"",id:"refresh_"+
g}).click(function(){if(!a(this).hasClass("ui-state-disabled")){a.isFunction(d.beforeRefresh)&&d.beforeRefresh.call(h);h.p.search=false;try{var b=h.p.id;h.p.postData.filters="";a("#fbox_"+a.jgrid.jqID(b)).jqFilter("resetFilter");a.isFunction(h.clearToolbar)&&h.clearToolbar.call(h,false)}catch(c){}switch(d.refreshstate){case "firstpage":a(h).trigger("reloadGrid",[{page:1}]);break;case "current":a(h).trigger("reloadGrid",[{current:true}])}a.isFunction(d.afterRefresh)&&d.afterRefresh.call(h)}return false}).hover(function(){a(this).hasClass("ui-state-disabled")||
a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")}),f=null);f=a(".ui-jqgrid").css("font-size")||"11px";a("body").append("<div id='testpg2' class='ui-jqgrid ui-widget ui-widget-content' style='font-size:"+f+";visibility:hidden;' ></div>");f=a(b).clone().appendTo("#testpg2").width();a("#testpg2").remove();a(l+"_"+d.position,l).append(b);h.p._nvtd&&(f>h.p._nvtd[0]&&(a(l+"_"+d.position,l).width(f),h.p._nvtd[0]=f),h.p._nvtd[1]=f);b=f=f=null;this.nav=!0}}}})},navButtonAdd:function(c,
d){d=a.extend({caption:"newButton",title:"",buttonicon:"ui-icon-newwin",onClickButton:null,position:"last",cursor:"pointer"},d||{});return this.each(function(){if(this.grid){"string"===typeof c&&0!==c.indexOf("#")&&(c="#"+a.jgrid.jqID(c));var e=a(".navtable",c)[0],j=this;if(e&&!(d.id&&void 0!==a("#"+a.jgrid.jqID(d.id),e)[0])){var r=a("<td></td>");"NONE"==d.buttonicon.toString().toUpperCase()?a(r).addClass("ui-pg-button ui-corner-all").append("<div class='ui-pg-div'>"+d.caption+"</div>"):a(r).addClass("ui-pg-button ui-corner-all").append("<div class='ui-pg-div'><span class='ui-icon "+
d.buttonicon+"'></span>"+d.caption+"</div>");d.id&&a(r).attr("id",d.id);"first"==d.position?0===e.rows[0].cells.length?a("tr",e).append(r):a("tr td:eq(0)",e).before(r):a("tr",e).append(r);a(r,e).attr("title",d.title||"").click(function(c){a(this).hasClass("ui-state-disabled")||a.isFunction(d.onClickButton)&&d.onClickButton.call(j,c);return!1}).hover(function(){a(this).hasClass("ui-state-disabled")||a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")})}}})},navSeparatorAdd:function(c,
d){d=a.extend({sepclass:"ui-separator",sepcontent:"",position:"last"},d||{});return this.each(function(){if(this.grid){"string"===typeof c&&0!==c.indexOf("#")&&(c="#"+a.jgrid.jqID(c));var e=a(".navtable",c)[0];if(e){var j="<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='"+d.sepclass+"'></span>"+d.sepcontent+"</td>";"first"===d.position?0===e.rows[0].cells.length?a("tr",e).append(j):a("tr td:eq(0)",e).before(j):a("tr",e).append(j)}}})},GridToForm:function(c,d){return this.each(function(){var e=
this;if(e.grid){var j=a(e).jqGrid("getRowData",c);if(j)for(var r in j)a("[name="+a.jgrid.jqID(r)+"]",d).is("input:radio")||a("[name="+a.jgrid.jqID(r)+"]",d).is("input:checkbox")?a("[name="+a.jgrid.jqID(r)+"]",d).each(function(){if(a(this).val()==j[r])a(this)[e.p.useProp?"prop":"attr"]("checked",!0);else a(this)[e.p.useProp?"prop":"attr"]("checked",!1)}):a("[name="+a.jgrid.jqID(r)+"]",d).val(j[r])}})},FormToGrid:function(c,d,e,j){return this.each(function(){if(this.grid){e||(e="set");j||(j="first");
var r=a(d).serializeArray(),s={};a.each(r,function(a,c){s[c.name]=c.value});"add"==e?a(this).jqGrid("addRowData",c,s,j):"set"==e&&a(this).jqGrid("setRowData",c,s)}})}})})(jQuery);